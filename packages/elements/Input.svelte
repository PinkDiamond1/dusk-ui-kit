<script>
  import { current_component } from "svelte/internal";
  import { forwardEventsBuilder, exclude, useActions, types } from "@dusk-network/helpers";
  const forwardEvents = forwardEventsBuilder(current_component);
  export let use = [];
  export let type = "text";
  export let id = "__DUK-input" + Math.random().toString(36);
  export let placeholder = "";
  let className = "";
  export let checked = false;
  export { className as class };

  function getClassNames(type) {
    let classNames = "";

    switch (type) {
      case types.TEXT_FIELD.MULTI_LINE:
        classNames += " duk-text-field--textarea";
        break;
      case types.TEXT_FIELD.TEXT:
        classNames += " duk-text-field--text";
        break;
      case types.TEXT_FIELD.PASSWORD:
        classNames += " duk-text-field--text--password";
        break;
      case types.RADIO:
        classNames += " duk-radio";
        break;
      default:
        classNames += "";
    }

    return classNames;
  }
</script>

<input
  use:useActions="{use}"
  use:forwardEvents
  class="{className}
  {getClassNames(type)}"
  type="checkbox"
  id="{id}"
  placeholder="{placeholder}"
  bind:checked
  {...exclude($$props, ["use", "class"])}
/>
